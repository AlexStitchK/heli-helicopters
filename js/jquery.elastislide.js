!function(u,i,c){"use strict";var o,a,r=u.event;o=r.special.debouncedresize={setup:function(){u(this).on("resize",o.handler)},teardown:function(){u(this).off("resize",o.handler)},handler:function(t,i){function s(){t.type="debouncedresize",r.dispatch.apply(e,n)}var e=this,n=arguments;a&&clearTimeout(a),i?s():a=setTimeout(s,o.threshold)},threshold:150};var m="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";u.fn.imagesLoaded=function(s){var e=this,n=u.isFunction(u.Deferred)?u.Deferred():0,o=u.isFunction(n.notify),a=e.find("img").add(e.filter("img")),r=[],h=[],l=[];function d(){var t=u(h),i=u(l);n&&(l.length?n.reject(a,t,i):n.resolve(a)),u.isFunction(s)&&s.call(e,a,t,i)}function p(t,i){t.src!==m&&-1===u.inArray(t,r)&&(r.push(t),i?l.push(t):h.push(t),u.data(t,"imagesLoaded",{isBroken:i,src:t.src}),o&&n.notifyWith(u(t),[i,a,u(h),u(l)]),a.length===r.length&&(setTimeout(d),a.unbind(".imagesLoaded")))}return u.isPlainObject(s)&&u.each(s,function(t,i){"callback"===t?s=i:n&&n[t](i)}),a.length?a.bind("load.imagesLoaded error.imagesLoaded",function(t){p(t.target,"error"===t.type)}).each(function(t,i){var s=i.src,e=u.data(i,"imagesLoaded");e&&e.src===s?p(i,e.isBroken):i.complete&&i.naturalWidth!==c?p(i,0===i.naturalWidth||0===i.naturalHeight):(i.readyState||i.complete)&&(i.src=m,i.src=s)}):d(),n?n.promise(e):e};var e=u(i),s=i.Modernizr;u.Elastislide=function(t,i){this.$el=u(i),this._init(t)},u.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(t,i,s){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}},u.Elastislide.prototype={_init:function(t){this.options=u.extend(!0,{},u.Elastislide.defaults,t);var i=this;if(this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[s.prefixed("transition")],this.support=s.csstransitions&&s.csstransforms,this.current=this.options.start,this.isSliding=!1,this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,0===this.itemsCount)return!1;this._validate(),this.$items.detach(),this.$el.empty(),this.$el.append(this.$items),this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>'),this.hasTransition=!1,this.hasTransitionTimeout=setTimeout(function(){i._addTransition()},100),this.$el.imagesLoaded(function(){i.$el.show(),i._layout(),i._configure(),i.hasTransition?(i._removeTransition(),i._slideToItem(i.current),i.$el.on(i.transEndEventName,function(){i.$el.off(i.transEndEventName),i._setWrapperSize(),i._addTransition(),i._initEvents()})):(clearTimeout(i.hasTransitionTimeout),i._setWrapperSize(),i._initEvents(),i._slideToItem(i.current),setTimeout(function(){i._addTransition()},25)),i.options.onReady()})},_validate:function(){this.options.speed<0&&(this.options.speed=500),(this.options.minItems<1||this.options.minItems>this.itemsCount)&&(this.options.minItems=1),(this.options.start<0||this.options.start>this.itemsCount-1)&&(this.options.start=0),"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>'),this.$carousel=this.$el.parent(),this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var t=this.$items.find("img:first");this.imgSize={width:t.outerWidth(!0),height:t.outerHeight(!0)},this._setItemsSize(),"horizontal"===this.options.orientation?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height),this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing),this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s"),this.hasTransition=!1},_addControls:function(){var i=this;this.$navigation=u('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper),this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(t){return i._slide("prev"),!1}),this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(t){return i._slide("next"),!1})},_setItemsSize:function(){var t="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;this.$items.css({width:t+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height}),"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var s=this;e.on("debouncedresize.elastislide",function(){s._setItemsSize(),s._configure(),s._slideToItem(s.current)}),this.$el.on(this.transEndEventName,function(){s._onEndTransition()}),"horizontal"===this.options.orientation?this.$el.on({swipeleft:function(){s._slide("next")},swiperight:function(){s._slide("prev")}}):this.$el.on({swipeup:function(){s._slide("next")},swipedown:function(){s._slide("prev")}}),this.$el.on("click.elastislide","li",function(t){var i=u(this);s.options.onClick(i,i.index(),t)})},_destroy:function(t){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide"),e.off(".elastislide"),this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper),this.$items.css({width:"auto","max-width":"none","max-height":"none"}),this.$navigation.remove(),this.$wrapper.remove(),t&&t.call()},_toggleControls:function(t,i){i?"next"===t?this.$navNext.show():this.$navPrev.show():"next"===t?this.$navNext.hide():this.$navPrev.hide()},_slide:function(t,i){if(this.isSliding)return!1;this.options.onBeforeSlide(),this.isSliding=!0;var s=this,e=this.translation||0,n="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),o=this.itemsCount*n,a="horizontal"===this.options.orientation?this.$carousel.width():this.$carousel.height();if(i===c){if((h=this.fitCount*n)<0)return!1;if("next"===t&&o-(Math.abs(e)+h)<a)h=o-(Math.abs(e)+a),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===t&&Math.abs(e)-h<0)h=Math.abs(e),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var r="next"===t?Math.abs(e)+Math.abs(h):Math.abs(e)-Math.abs(h);0<r?this._toggleControls("prev",!0):this._toggleControls("prev",!1),r<o-a?this._toggleControls("next",!0):this._toggleControls("next",!1)}i="next"===t?e-h:e+h}else{var h=Math.abs(i);Math.max(o,a)-h<a&&(i=-(Math.max(o,a)-a)),0<h?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(o,a)-a>h?this._toggleControls("next",!0):this._toggleControls("next",!1)}if(e===(this.translation=i))return this._onEndTransition(),!1;if(this.support)"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+i+"px)"):this.$el.css("transform","translateY("+i+"px)");else{u.fn.applyStyle=this.hasTransition?u.fn.animate:u.fn.css;var l="horizontal"===this.options.orientation?{left:i}:{top:i};this.$el.stop().applyStyle(l,u.extend(!0,[],{duration:this.options.speed,complete:function(){s._onEndTransition()}}))}this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1,this.options.onAfterSlide()},_slideTo:function(t){t=t||this.current;var i=Math.abs(this.translation)||0,s="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),e=i+this.$carousel.width(),n=Math.abs(t*s);(e<n+s||n<i)&&this._slideToItem(t)},_slideToItem:function(t){var i="horizontal"===this.options.orientation?t*this.$items.outerWidth(!0):t*this.$items.outerHeight(!0);this._slide("",-i)},add:function(t){var i=this,s=this.current,e=this.$items.eq(this.current);this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,this.current=e.index(),this._setItemsSize(),this._configure(),this._removeTransition(),s<this.current?this._slideToItem(this.current):this._slide("next",this.translation),setTimeout(function(){i._addTransition()},25),t&&t.call()},setCurrent:function(t,i){this.current=t,this._slideTo(),i&&i.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(t){this._destroy(t)}};function n(t){i.console&&i.console.error(t)}u.fn.elastislide=function(t){var i=u.data(this,"elastislide");if("string"==typeof t){var s=Array.prototype.slice.call(arguments,1);this.each(function(){i?u.isFunction(i[t])&&"_"!==t.charAt(0)?i[t].apply(i,s):n("no such method '"+t+"' for elastislide self"):n("cannot call methods on elastislide prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){i?i._init():i=u.data(this,"elastislide",new u.Elastislide(t,this))});return i}}(jQuery,window);